---

layout: post
title: Vim 学习笔记 No.6
category: Vim

---
## 模式匹配
复习 / 预习正则表达式

### 1 调整查找模式的大小写敏感性
先推荐使用如下 vimrc 配置

    " 大小写设置
    set ignorecase
    set infercase
    set smartcase

大致功能为：忽略大小写、自动补全时保持已输入字母的大小写、搜索时部分推断是否区分大小写。

具体功能见帮助文档，不再赘述。

<!--description-->
如果要强制不区分大小写，可以在模式串中任意位置加上 \c。类似的，\C 强制不区分大小写。

### 2 特殊字符的转义
众所周知，正则表达式中有部分字符具有特殊含义，而不会被按照原意匹配。然而 vim 对于这些字符的默认处理方法各不相同，有的默认按原意，有的默认按照特殊字符处理。

在模式串中加入 \v，默认将其后的 『除 _ 、 字母 数字 以外的』 字符当作特殊字符处理，若想要按照原意匹配，需用 \ 转义。使用 \V 得到相反的效果。

*实际上，不是所有的符号都需要转义才能进行原字符匹配，仅目前用作特殊字符的那些才一定需要*

**注意** 是其后的字符！！！假如使用`/\V### \v[0-9]`对本 md 文档进行匹配，是可以匹配到『### 2 』等字符的。

#### 有些字符必须转义
在前向查找中，必须要转义`/`，反向查找中，必须要转义`?`。每次都必须转义`\ `。

可用编程的方式转义，如：`escape({pattern}, '/\')`，具体用法见`:h escape()`

### 3 值得注意的元字符
- \[1-9] 指代圆括号 () 中捕获的字符串
- \0 指代整个字符串
- \s 匹配空格和 tab 符，\_s 匹配空格 tab 符和换行符
- 使用 \< 和 \> 可标记单词前后边界
- \zs \ze 标记匹配部分的开始和结尾，即可对模式串进行部分匹配（类似于标准的正则表达式中 lookground 模式吧）

### 4 使用圆括号但不捕获内容
在圆括号前加上 %

<!-- p187 -->
